$m-tooltip-background-color: hue(grey, 90);
$m-tooltip-color: hue(grey, 10);
$m-tooltip-fontsize: 12px;
$m-tooltip-lineheight: 1.2;
$m-tooltip-arrow-width: 4px;
$m-tooltip-arrow-distance: 11px;
$m-tooltip-border-radius: $base-radius;
$m-tooltip-spacing: 8px;
$m-tooltip-wrapper-spacing: 30px;

@mixin a-tooltip {
	position: relative;
	display: inline-block;
	cursor: pointer;
	word-break: break-word;

	&::before,
	&::after {
		position: absolute;
		bottom: 100%;
		left: 50%;
		transform: translate3d(0, 0, 0);
		visibility: hidden;
		opacity: 0;
		pointer-events: none;
		transition: .3s ease;
		transition-delay: 0ms;
	}

	&::before {
		content: '';
		background: transparent;
		border: $m-tooltip-arrow-width solid transparent;
		border-top-color: $m-tooltip-background-color;
		top: 0;
		left: calc(50% - #{$m-tooltip-arrow-width});
	}

	&::after {
		@include z-index(tooltip);
		content: attr(data-tooltip);
		width: auto;
		background: $m-tooltip-background-color;
		color: $m-tooltip-color;
		padding: $m-tooltip-spacing;
		font-size: $m-tooltip-fontsize;
		border-radius: $m-tooltip-border-radius;
		white-space: nowrap;
		line-height: $m-tooltip-lineheight;
		transform: translateX(-50%);
	}

	&:focus,
	&:hover {
		&::before,
		&::after {
			visibility: visible;
			opacity: 1;
			transition-delay: 100ms;
		}

		&::before {
			transform: translateY(-$m-tooltip-arrow-distance + $m-tooltip-arrow-width);
		}

		&::after {
			transform: translateX(-50%) translateY(-$m-tooltip-arrow-distance + $m-tooltip-arrow-width);
		}
	}
}

@mixin a-tooltip--top-left {
	&::after {
		transform: translateX(-100%);
		margin-left: $m-tooltip-arrow-width;
		border-bottom-right-radius: 0;
	}

	&:focus,
	&:hover {
		&::after {
			transform: translateX(-100%) translateY(-$m-tooltip-arrow-distance + $m-tooltip-arrow-width);
		}
	}
}

@mixin a-tooltip--small {
	&::after {
		white-space: normal;
		width: 80px;
	}
}

@mixin a-tooltip--medium {
	&::after {
		white-space: normal;
		width: 120px;
	}
}

@mixin a-tooltip--large {
	&::after {
		white-space: normal;
		width: 260px;
	}
}

@mixin a-tooltip--underline {
	background-image: linear-gradient(90deg, $m-tooltip-background-color 40%, transparent 0);
	background-repeat: repeat-x;
	background-size: 3px 1px;
	background-position: 0 20px;
}

[data-tooltip] {
	@include a-tooltip;
}
