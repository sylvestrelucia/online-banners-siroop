/* eslint class-methods-use-this: ["error", { "exceptMethods": ["onVoucherInputChange"] }] */
const selectors = {
	inputText: '.js-voucher-input',
	inputButton: '.js-voucher-button',
};

class VoucherForm {
	constructor($el) {
		this.$el = $el;
		this.$voucherInput = this.$el.find(selectors.inputText);
		this.$voucherInput.on('change input', this.onVoucherInputChange.bind(this));
		this.$voucherInput.change();
	}

	onVoucherInputChange(ev) {
		const $el = jQuery(ev.target);
		const dataTarget = $el.attr('data-target-selector');
		const $actionTarget = jQuery(dataTarget);

		if ($el.val().length > 0) {
			$actionTarget.prop('disabled', false);
		} else {
			$actionTarget.prop('disabled', true);
		}
	}
}

export default VoucherForm;
