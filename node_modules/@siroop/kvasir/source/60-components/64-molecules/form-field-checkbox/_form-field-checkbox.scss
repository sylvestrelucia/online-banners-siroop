$m-form-field-color: hue(teal, 70);
$m-form-field-color-hover: hue(teal, 90);
$m-form-field-color-active: hue(teal, 50);
$m-form-field-color-disabled: hue(grey, 20);

@mixin m-form-field-checkbox__checkbox {
	width: 0;
	height: 0;
	opacity: 0;
	-webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */
}

@mixin m-form-field-checkbox__label {
	display: inline-flex;
	align-items: center;
	vertical-align: top;
	cursor: pointer;
	font-size: 0;
	margin: $base-spacing-smallest auto;

	@include breakpoint($mq-md-up) {
		margin: 0;
	}
}

@mixin m-form-field-checkbox__label-text {
	@include text(medium);
	padding-left: $base-spacing-smaller;
}

@mixin m-form-field-checkbox__focus {
	outline: Highlight solid 2px;

	@media (-webkit-min-device-pixel-ratio: 0) { /* stylelint-disable-line media-feature-name-no-vendor-prefix */
		outline-color: -webkit-focus-ring-color;
		outline-style: auto;
	}
}

.m-form-field-checkbox {
	position: relative;

	&__input {
		@include m-form-field-checkbox__checkbox;
		position: absolute;
	}

	&__input:focus + &__label {
		@include m-form-field-checkbox__focus;
	}

	&__label {
		@include m-form-field-checkbox__label;

		&:hover {
			.m-form-field-checkbox__icon {
				color: $m-form-field-color-hover;
			}
		}
	}

	&__label-text {
		@include m-form-field-checkbox__label-text;
	}

	&__icon {
		color: $m-form-field-color;
		transition: color $base-transition-speed ease;

		&:active {
			color: $m-form-field-color-active;
		}
	}

	&__icon-unchecked,
	&__input:checked + &__label &__icon-checked {
		display: inline-block;
	}

	&__icon-checked,
	&__input:checked + &__label &__icon-unchecked {
		display: none;
	}
}

.m-form-field-checkbox--disabled {
	.m-form-field-checkbox {
		&__label {
			cursor: not-allowed;
			color: $m-form-field-color-disabled;

			&:hover {
				.m-form-field-checkbox__icon {
					color: $m-form-field-color-disabled;
				}
			}
		}

		&__label-text {
			color: $m-form-field-color-disabled;
		}

		&__icon {
			color: $m-form-field-color-disabled;
		}
	}
}
