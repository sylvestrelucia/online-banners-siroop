const selectors = {
	videoFirstFrameImage: '.js-m-video-player__image',
	videoPlayButton: '.js-m-video-player__play-button',
	videoWrapper: '.js-m-video-player__wrapper',
	videoPlayer: '.js-m-video-player__youtube-iframe',
};

class VideoPlayer {
	constructor($el) {
		this.$firstframe = $el;
		this.$firstframeItems = $el.find(`${selectors.videoFirstFrameImage}, ${selectors.videoPlayButton}`);
		this.$firstframe.click(this.startVideo.bind(this));
	}

	startVideo() {
		const $url = $(selectors.videoPlayer).data('src');
		this.$firstframeItems.remove();
		$(selectors.videoPlayer).attr('src', `${$url}&autoplay=1`);
		$(selectors.videoWrapper).addClass('is-active');
	}
}

export default VideoPlayer;
