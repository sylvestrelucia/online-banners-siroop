{% set selectedOptionName = '' %}
<div class="m-dropdown{% if modifier %} m-dropdown--{{ modifier }}{% endif %}" data-c-name="Dropdown">

	<label class="m-dropdown__label" for="{{ data.id }}">{{ data.label }}</label>

	{% if data.icon|default %}
		<div class="m-dropdown__icon">
			{% include '@a-svg-icon' with {
				modifiers: ['stroked-thin', 'medium'],
				data: {
					name: data.icon
				}
			} %}
		</div>
	{% endif %}

	<select id="{{ data.id }}" name="{{ data.name }}" class="m-dropdown__select js-m-dropdown__select">
		{% for option in data.options %}
			{% if option.selected %} {% set selectedOptionName = option.name %}{% endif %}
			{% if option.is_label == false %}
			<option value="{{ option.value }}"{% if option.selected|default %} selected{% endif %}>
				{{ option.name }}
			</option>
			{% endif %}
		{% endfor %}
	</select>

	<div class="m-dropdown__faux js-m-dropdown__faux">

		<button type="button" class="m-dropdown__toggle js-m-dropdown__toggle{% if selectedOption|default %} js-m-dropdown__toggle--is-selected{% endif %}">

			<span class="m-dropdown__wrap">
				<span class="m-dropdown__text js-m-dropdown__text">
					{{ selectedOptionName }}
				</span>
				<i class="m-dropdown__toggle-arrow">
					{% include "@a-svg-icon" with {
							data: {name: "arrow-down"},
							modifiers: ["stroked-thin"]
						}
					%}
				</i>
			</span>

		</button>
		<ul class="m-dropdown__content">
			{% for option in data.options %}
				{% if option.is_label == false %}
				<li>
					<button type="button"
					class="m-dropdown__option js-m-dropdown__option{% if option.selected|default %} js-m-dropdown__option--is-selected{% endif %}"
					data-dropdown-option-value="{{ option.value }}">
						{{ option.name }}
					</button>
				</li>
				{% endif %}
			{% endfor %}
		</ul>
	</div>
</div>
