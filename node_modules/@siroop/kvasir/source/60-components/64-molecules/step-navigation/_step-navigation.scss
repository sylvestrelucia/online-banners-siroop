.m-step-navigation {
	display: table; // fallback
	display: flex; /* stylelint-disable-line declaration-block-no-duplicate-properties */
	margin: 0;
	padding: 0;
	width: 100%;
	background-color: hue(grey, 5);
	overflow: hidden;
	counter-reset: step;

	&__step {
		position: relative;
		display: table-cell; // fallback
		display: inline-flex; /* stylelint-disable-line declaration-block-no-duplicate-properties */
		justify-content: center;
		flex: 1 0 auto;
		min-width: 1px;
		list-style-type: none;
		text-align: center;

		@include breakpoint($mq-md-up) {
			flex: 1;
		}

		&::before,
		&::after {
			@include z-index(step-navigation);
			content: '';
			display: inline-block;
			width: 0;
			height: 0;
			border-style: solid;
			border-color: transparent transparent transparent $color-white;
			position: absolute;
			top: -6px;
			right: -20px;
			border-width: 34px 0 34px 20px;
		}

		&::after {
			right: -18px;
			border-left-color: hue(grey, 5);
		}

		&--active {
			background-color: hue(teal, 10);
			flex: 3 1 auto;

			@include breakpoint($mq-md-up) {
				flex: 1;
			}

			&::after {
				border-left-color: hue(teal, 10);
			}

			.m-step-navigation__counter {
				background-color: hue(teal, 30);
				color: hue(teal, 80);
			}

			.m-step-navigation__text {
				color: hue(teal, 80);
				position: static;
			}
		}

		&--completed {
			background-color: hue(green, 10);

			&::after {
				border-left-color: hue(green, 10);
			}

			.m-step-navigation__counter {
				background-color: hue(green, 30);
				color: hue(green, 80);

				&::before {
					content: '';
					position: absolute;
				}
			}

			.m-step-navigation__text {
				color: hue(green, 80);
			}
		}

		&:first-child {
			.m-step-navigation__wrap {
				padding-left: 10px;
			}
		}

		&:last-child {
			.m-step-navigation__wrap {
				padding-right: 10px;
			}
		}
	}

	&__wrap {
		@include truncate;
		line-height: 0;
		display: block;
		padding: $base-spacing 10px $base-spacing 30px;
		color: hue(grey, 60);
		width: 100%;
	}

	&__counter {
		@include font(primary, bold);
		@include text(x-small);
		display: inline-block;
		padding: 4px 0;
		width: 24px;
		height: 24px;
		border-radius: 50%;
		background-color: hue(grey, 20);
		vertical-align: middle;

		&::before {
			counter-increment: step;
			content: counter(step);
		}

		@include breakpoint($mq-md-up) {
			@include text(small);
			padding: 2px 0;
		}
	}

	&__text {
		@include font(primary, regular);
		@include text(small);
		margin-left: 5px;
		vertical-align: middle;
		// Workaround for Internet Explorer, because display inital doesn't work
		position: absolute;
		top: -9999px;
		left: -9999px;

		@include breakpoint($mq-md-up) {
			position: static;
		}
	}
}
