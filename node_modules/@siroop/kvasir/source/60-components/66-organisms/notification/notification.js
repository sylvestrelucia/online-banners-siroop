const selectors = {
	buttonClose: '.js-notification-close',
};

const classes = {
	hidden: 'is-hidden',
	preventAnimation: 'js-notification--no-animation',
};

const options = {
	timeToClose: 8000,
};

class Notification {
	constructor($el) {
		this.el = $el.get(0);
		this.el.querySelector(selectors.buttonClose).addEventListener('click', (ev) => {
			ev.preventDefault();
			this.el.classList.add(classes.hidden);
		});

		const shouldPreventAnimation = this.el.classList.contains(classes.preventAnimation);
		if (!shouldPreventAnimation) {
			window.setTimeout(() => {
				this.el.classList.add(classes.hidden);
			}, options.timeToClose);
		}
	}
}

export default Notification;
