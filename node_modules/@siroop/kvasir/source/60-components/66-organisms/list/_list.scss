$list-border-color: hue(grey, 10);

.o-list {
	position: relative;
	overflow: hidden;

	&__list {
		list-style-type: none;
		font-size: 0;
		position: relative;
		padding: 0;
		white-space: nowrap;
		overflow-y: hidden; // prevents strange scrolling issues on mobile
		overflow-x: scroll;
		-webkit-overflow-scrolling: touch;

		@include breakpoint($mq-md-up) {
			white-space: normal;
			overflow-x: visible;
		}
	}

	&__item {
		display: inline-block;
		width: 200px;

		&:last-of-type {
			.m-list-item__link {
				&::before {
					border-right: 0;
				}
			}
		}

		@include breakpoint($mq-md-up) {
			@include gallery(3 of 12 inside no-gutters);
		}

		@include breakpoint($mq-lg-up) {
			@include gallery(2 of 12 inside no-gutters);
		}
	}

	.m-list-item__link {
		&::before {
			content: '';
			border-bottom: 0;
			border-right: 1px solid $list-border-color;
			position: absolute;
			bottom: 0;
			top: -1px;
			left: $base-spacing-small;
			right: 0;

			@include breakpoint($mq-md-up) {
				right: $base-spacing-small;
				border-bottom: 1px solid $list-border-color;
				border-right: 0;
			}
		}
	}

	.m-list-item__title {
		@include text(medium);
		margin-top: $base-spacing-small;
	}

	.m-list-item__title,
	.m-price {
		@include truncate;
	}

	&__link {
		margin-top: 30px;
		text-align: center;
	}

	.m-image-responsive__image {
		@include breakpoint($mq-md-up) {
			padding: $base-spacing-smallest;
		}

		@include breakpoint($mq-xlg-up) {
			padding: $base-spacing;
		}
	}

	@include breakpoint($mq-md-up) {
		margin: 0;
	}
}


.o-list--grid {
	position: static; // reset of default
	border-left: 1px solid $list-border-color;
	border-top: 1px solid $list-border-color;

	.o-list__list {
		overflow-x: visible;
	}

	.o-list__item {
		@include gallery(6 of 12 inside no-gutters);
		position: relative;
		border-right: 1px solid $list-border-color;
		border-bottom: 1px solid $list-border-color;

		&:hover .m-list-item__link::after {
			content: '';
			position: absolute;
			background-color: rgba(hue(grey, 50), .05);
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			pointer-events: none;
		}

		.m-list-item__title {
			@include font(secondary);
		}

		.m-list-item__link {
			&::before {
				display: none;
				content: normal;
			}
		}

		@include breakpoint($mq-md-up) {
			@include gallery(4 of 12 inside no-gutters);
		}

		@include breakpoint($mq-lg-up) {
			@include gallery(2 of 12 inside no-gutters);
		}
	}
}

.o-list--vertical {
	.o-list__list {
		white-space: normal;
		overflow-x: visible;
	}

	.m-list-item__image-wrap {
		max-width: none;
	}

	.m-list-item__link {
		&::before {
			border-bottom: 1px solid $list-border-color;
			border-right: 0;
			left: 0;
			right: 0;
		}
	}

	.m-list-item__title {
		white-space: normal;
		margin-top: 0;
	}

	.o-list__item {
		width: 100%;

		@include breakpoint($mq-md-up) {
			width: 100%;
			margin-right: 0;
			margin-left: 0;
		}

		@include breakpoint($mq-lg-up) {
			width: 100%;
			margin-right: 0;
			margin-left: 0;
		}
	}
}
