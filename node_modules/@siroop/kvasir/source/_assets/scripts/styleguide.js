import 'babel-polyfill';

function requireAll(requireContext) {
	return requireContext.keys().map(requireContext);
}

const modules = requireAll(require.context('../../05-materials', true, /(?!(^.*\.spec.*\.js$)|(^.*\.config.*\.js$))(^.*\.js$)/));

modules.forEach((m) => {
	if (m.default && m.default.name) {
		const elements = document.querySelectorAll(`[data-c-name="${m.default.name}"]`);
		for (let i = 0; i < elements.length; i += 1) {
			new m.default(jQuery(elements[i])); // eslint-disable-line no-new
		}
	}
});

