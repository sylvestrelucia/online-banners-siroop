$disabled-color: hue(grey, 20);
$border-color: hue(grey, 10);

.t-pdp {
	position: relative;
	background: $color-white;

	&__row {
		@include obj-layout-1;
	}

	.o-carousel__item-image {
		width: 60%;
		max-width: 280px; // on hugest parts of the small viewport we have to prevent the scaling
	}

	.o-carousel__images .o-carousel__slide {
		padding: 0 $base-spacing;
	}

	&__price-drop-info {
		color: hue(red, 60);
	}

	&__breadcrumb,
	&__back-search,
	&__content {
		@include obj-page-border;
	}

	&__breadcrumb {
		&.is-hidden {
			display: none;
		}
	}

	&__back-search {
		@include font(secondary);
		@include text(medium);
		padding-top: $base-spacing;
		padding-bottom: $base-spacing-smaller;

		.a-svg-icon {
			stroke: hue(teal);
			vertical-align: text-bottom;
		}
	}

	&__content {
		margin-top: $base-spacing-small;
	}

	&__title {
		@include font(primary, bold);
		@include text(x-large);
		margin-bottom: $base-spacing;
		margin-top: 0;

		@include breakpoint($mq-md-up) {
			margin-bottom: $base-spacing-smaller;
		}
	}

	&__readmore {
		@include a-link;

		.a-svg-icon {
			display: inline-block;
			margin-left: 3px;
		}
	}

	&__badge {
		img {
			width: 40px;
			height: 40px;
			margin-right: 10px;
		}
	}

	&__shaved-text,
	&__description-content {
		@include obj-editor;
	}

	&__carousel,
	&__meta-info,
	&__quantity {
		margin-bottom: $base-spacing;

		@include breakpoint($mq-md-up) {
			margin-bottom: 0;
		}
	}

	&__price, {
		margin-bottom: $base-spacing-small;
	}

	&__carousel {
		margin-left: - $base-border-medium;
		margin-right: - $base-border-medium;
	}

	&_price,
	&_title {
		width: 100%;
	}

	&__energy-label {
		margin-left: $base-spacing-small;
		float: right;
	}

	&__desc-wrapper {
		display: flex;
		flex-grow: 1;
		flex-flow: column wrap;

		@include breakpoint($mq-md-up) {
			flex-direction: column-reverse;
		}
	}

	&__description,
	&__merchants-list,
	&__main-attributes,
	&__specifications {
		margin-bottom: 40px;
	}

	&__specifications,
	&__manufacturer {
		margin-bottom: 30px;
	}

	&__groups-title,
	&__variants-title,
	&__merchant-list-title,
	&__title-out-of-stock {
		margin-bottom: 8px;
	}

	&__groups-title-label,
	&__variants-title-label,
	&__merchant-list-title,
	&__title-out-of-stock {
		@include font(primary);
	}

	&__groups-title-value,
	&__variants-title-value {
		@include font(primary, bold);
	}

	&__main-attributes-title,
	&__manufacturer-title,
	&__specifications-title,
	&__merchants-title {
		@include font(primary, bold);
		@include text(large);
		margin-bottom: 12px;
	}

	&__merchant-information-title {
		@include font(primary, bold);
		@include text(medium);
		margin-bottom: $base-spacing-smallest;
	}

	&__groups-items,
	&__variants-items {
		list-style-type: none;
		margin: 0;
		padding: 0;
		font-size: 0;
	}

	&__variants {
		margin-bottom: $base-spacing;

		@keyframes shake {
			10%,
			90% {
				transform: translate3d(-1px, 0, 0);
			}

			20%,
			80% {
				transform: translate3d(2px, 0, 0);
			}

			30%,
			50%,
			70% {
				transform: translate3d(-4px, 0, 0);
			}

			40%,
			60% {
				transform: translate3d(4px, 0, 0);
			}
		}

		&--shake {
			animation: shake .82s cubic-bezier(.36, .07, .19, .97) both;
			transform: translate3d(0, 0, 0);
		}

		&--focus {
			.m-dropdown__toggle {
				border: 1px solid hue(grey, 90);
			}
		}
	}

	&__groups,
	&__variants-items {
		margin-bottom: $base-spacing;
	}

	&__groups-item,
	&__variants-item {
		@include a-tile;
		@include a-tile--small;
		display: inline-block;
		margin: 0 $base-spacing $base-spacing-smaller 0;

		&-link {
			padding: $base-spacing-smaller;
			display: block;
			cursor: pointer;
		}

		&:last-child {
			margin-right: 0;
		}

		&:hover,
		&-is-selected {
			.t-pdp__variants-item-link,
			.t-pdp__groups-item-link {
				padding: $base-spacing-smaller - 1px;
			}
		}

		&:hover {
			transition: width $base-transition-speed;
			border-width: 2px;
			border-color: hue(teal, 50);
			box-shadow: 0 0 0 1px $color-white;
		}

		&-is-selected {
			@include a-tile--active;
		}

		&-is-disabled {
			@include a-tile--inactive;

			&:hover {
				.t-pdp__variants-item-link,
				.t-pdp__groups-item-link {
					padding: $base-spacing-smaller;
				}
			}
		}
	}

	&__variants-item {
		min-width: 68px;
		width: auto;

		&-link {
			color: inherit;

			&:hover,
			&-is-selected {
				color: inherit;
			}
		}

		&-is-disabled {
			&:hover {
				color: hue(grey, 20);
				border: 1px solid hue(grey, 20);
				box-shadow: none;
				cursor: pointer;
			}
		}
	}

	&__groups-item {
		@include a-tooltip;

		&-is-disabled {
			.t-pdp__groups-item-image {
				opacity: .1;
			}

			&:hover {
				color: hue(grey, 20);
				border: 1px solid hue(grey, 20);
				box-shadow: none;
				cursor: pointer;
			}
		}
	}

	&__call-to-action {
		@include clearfix;
		margin-bottom: $base-spacing;
	}

	&__cta-button {
		@include with-layout($obj-layout-1-layout) {
			@include breakpoint($mq-md-up) {
				@include span(6 of 12 last);
			}

			@include breakpoint($mq-lg-up) {
				@include span(7 of 12 last);
			}
		}

		&--single {
			width: 100%;
			float: none;
			margin-left: 0;
		}
	}

	&__meta-info {
		padding: 22px;
		border: border(hue(grey, 5));
	}

	&__quantity {
		@include with-layout($obj-layout-1-layout) {
			@include breakpoint($mq-md-up) {
				@include span(6 of 12 first);
			}

			@include breakpoint($mq-lg-up) {
				@include span(5 of 12 first);
			}
		}
	}

	&__shipping-costs-label,
	&__shipping-costs-value,
	&__merchant-information-label,
	&__merchant-information-value {
		display: inline-block;
	}

	&__call-to-action-button {
		@include a-button-cta;
		@include a-button-cta--default;
		width: 100%;

		&--out-of-stock {
			@include a-button-cta;
			@include a-button-cta--default;
		}
	}

	&__price-info,
	&__price-suffix,
	&__energy-label {
		display: inline-block;
		vertical-align: middle;
	}

	&__merchant-information-stock {
		color: hue(green, 80);
		padding: $base-spacing-smallest 0;

		&--out-of-stock {
			color: hue(red, 70);
		}

		&--low-stock {
			color: $color-font-base;
		}

		& .a-svg-icon {
			vertical-align: middle;
		}
	}

	&__merchant-information-shipping-date {
		padding: $base-spacing-smallest 0;

		& .a-svg-icon {
			vertical-align: middle;
		}
	}

	&__merchant-information-info {
		@include text(small);
		padding-bottom: $base-spacing;
	}

	&__merchants {
		.o-merchant-selector__items {
			margin: 0 #{-$base-spacing-small};

			@include breakpoint($mq-md-up) {
				margin: 0;
			}
		}
	}

	&__free-delivery {
		margin-bottom: $base-spacing-large;

		&-icon {
			.a-svg-icon {
				vertical-align: sub;
			}
		}
	}

	&__recommendations {
		margin-bottom: $base-spacing-large;

		&-text {
			@include font(primary, bold);
			@include text(large);
			margin-bottom: $base-spacing;
		}

		// Remove padding on small viewport
		.o-list {
			@include reset-obj-page-border;
		}

		// Hide useless vertical scroll bar on mobile
		.o-list__list {
			overflow-y: hidden;
		}

		.o-list__link {
			display: none;
		}
	}

	&__merchant-information-tooltip {
		@include a-tooltip--top-left;

		&::after {
			white-space: pre;
		}
	}

	&__wishlist {
		@include clearfix;
		position: relative;
		margin-bottom: $base-spacing-xlarge;

		&--single {
			.t-pdp__wishlist-checkbox,
			.t-pdp__wishlist-button {
				@include span(12 of 12);
			}
		}

		&-button {
			padding: 0;
			text-align: left;
			cursor: pointer;

			&:hover .a-svg-icon,
			&--active .a-svg-icon {
				fill: hue(red, 50);
				stroke: hue(red, 60);
			}

			.a-svg-icon {
				stroke: hue(red, 60);
				vertical-align: bottom;
			}
		}
	}

	&__wishlist-checkbox,
	&__wishlist-button {
		@include with-layout($obj-layout-1-layout) {
			@include breakpoint($mq-md-up) {
				@include span(6 of 12 last);
			}

			@include breakpoint($mq-lg-up) {
				@include span(7 of 12 last);
			}
		}
	}

	&__wishlist-checkbox-input {
		position: absolute;
		left: -100vw;

		&:checked + label svg {
			position: relative;
			will-change: height, width;
			animation: heart 1s cubic-bezier(.2, .9, .3, 1.5);
			fill: hue(red, 50);
		}
	}

	&__wishlist-checkbox-icon svg {
		stroke: hue(red, 60);
	}

	&__wishlist-checkbox-label {
		display: flex;
		cursor: pointer;

		& .t-pdp__wishlist-checkbox-icon {
			position: relative;
			margin-right: 4px;
			width: 24px;
			height: 24px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
	}

	@keyframes heart {
		0%,
		15% {
			height: 0;
			width: 0;
		}
	}
}

.no-js {
	.t-pdp {
		&__wishlist {
			&-checkbox {
				display: none;
			}
		}
	}
}
