// Button custom paddings
$button-padding: 9px;
$button-transition-speed: 200ms;
$button-base-radius: 2px;
$button-opacity: .6;

// size modifiers
$button-sizes:  'small', 'medium', 'large';

// style modifiers
$button-modifiers: 'cleared', 'filled', 'foggy', 'bordered';

// modifiers: expanded, flat-left, flat-bottom, cleared, filled, bordered, foggy
// states: default, hover, active, disabled
@mixin button($modifier: default, $color: currentColor, $state: default) {
	@if $modifier == 'default' {
		@include font(primary, medium);
		@include text(medium);
		display: inline-block;
		border-radius: $button-base-radius;
		padding: $button-padding;
		text-align: center;
		transition: color $button-transition-speed, background $button-transition-speed;
		cursor: pointer;
		margin: 0; //remove default margin
		background-color: transparent; // override existing
	}

	@else if $modifier == 'expanded' {
		width: 100%;
	}

	@else if $modifier == 'flat-left' {
		border-bottom-left-radius: 0 !important; /* stylelint-disable-line declaration-no-important */
		border-top-left-radius: 0 !important; /* stylelint-disable-line declaration-no-important */
	}

	@else if $modifier == 'flat-bottom' {
		border-bottom-left-radius: 0 !important; /* stylelint-disable-line declaration-no-important */
		border-bottom-right-radius: 0 !important; /* stylelint-disable-line declaration-no-important */
	}

	@else if index($button-sizes, $modifier) {
		@include text($modifier);
	}

	@else if $modifier == 'cleared' {
		// [1] override  default button-cta (without modifiers)
		background: none; // [1]
		border: 0; // // [1]

		@if map-has-key($button-colors, $color) {
			@if $state == 'default' {
				color: nth(map-get($button-colors, $color), 1);
			}

			@else if $state == 'hover' {
				color: nth(map-get($button-colors, $color), 2);
			}

			@else if $state == 'active' {
				color: nth(map-get($button-colors, $color), 9);
			}

			@else if $state == 'disabled' {
				color: nth(map-get($button-colors, $color), 7);
				background-color: transparent; // override existing
				cursor: default;
			}
		}
	}

	@else if $modifier == 'filled' {
		@if map-has-key($button-colors, $color) {
			@if $state == 'default' {
				color: nth(map-get($button-colors, $color), 4);
				background-color: nth(map-get($button-colors, $color), 1);
				border: 1px solid nth(map-get($button-colors, $color), 5);
			}

			@else if $state == 'hover' {
				color: nth(map-get($button-colors, $color), 4);
				background-color: nth(map-get($button-colors, $color), 2);
				border: 1px solid nth(map-get($button-colors, $color), 6);
			}

			@else if $state == 'active' {
				background-color: nth(map-get($button-colors, $color), 9);
				border: 1px solid nth(map-get($button-colors, $color), 1);
			}

			@else if $state == 'disabled' {
				background-color: nth(map-get($button-colors, $color), 7);
				border: 1px solid nth(map-get($button-colors, $color), 8);
				cursor: default;
			}
		}
	}

	@else if $modifier == 'foggy' {
		@if map-has-key($button-colors, $color) {
			@if $state == 'default' {
				color: nth(map-get($button-colors, $color), 3);
				background-color: rgba(nth(map-get($button-colors, $color), 1), $button-opacity);
			}

			@else if $state == 'hover' {
				color: nth(map-get($button-colors, $color), 3);
				background-color: nth(map-get($button-colors, $color), 1);
			}

			@else if $state == 'active' {
				color: nth(map-get($button-colors, $color), 3);
				background-color: nth(map-get($button-colors, $color), 9);
			}

			@else if $state == 'disabled' {
				color: nth(map-get($button-colors, $color), 3);
				background-color: rgba(nth(map-get($button-colors, $color), 1), $button-opacity);
				cursor: default;
			}
		}
	}

	@else if $modifier == 'bordered' {
		@if map-has-key($button-colors, $color) {
			@if $state == 'default' {
				color: nth(map-get($button-colors, $color), 1);
				border: 1px solid nth(map-get($button-colors, $color), 1);
				background-color: transparent;
			}

			@else if $state == 'hover' {
				color: nth(map-get($button-colors, $color), 2);
				border: 1px solid nth(map-get($button-colors, $color), 2);
				background-color: transparent;
			}

			@else if $state == 'active' {
				color: nth(map-get($button-colors, $color), 9);
				border: 1px solid nth(map-get($button-colors, $color), 9);
				background-color: transparent;
			}

			@else if $state == 'disabled' {
				color: nth(map-get($button-colors, $color), 7);
				border: 1px solid nth(map-get($button-colors, $color), 7);
				background-color: transparent; // override existing
				cursor: default;
			}
		}
	}
}
